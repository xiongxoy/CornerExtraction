基于方向向量聚类的多边形定点提取# 问题意义
精确定位多边形的顶点坐标是一个很有实际价值的问题。例如，在进行车牌识别或者是纸币识别的时候，需要将倾斜的车牌和纸币旋转到统一的相位和大小，后续的模式识别算法才能更好地发挥作用。另外，提取多边形的顶点，还能用于对多边形的压缩编码，极大的减少传输纯多边形图像所需的空间。因为矩形在经过投影变换之后，变成了四边形，如何提取四边形的顶点，就成了一个很重要的问题。# 相关方法## 霍夫变换一种方式是使用霍夫表换，即首先找到图像中所有的直线，然后求其交点。该方法的缺点是，对噪声敏感，只能处理比较理想的情况，严重依赖参数。## 计算几何另外一种思路是使用计算几何的方法求解。给定一个点集，现存的计算几何方法可以很高效找到其minimum enclosing rectangle以及minimum enclosing k-gon。这类方法的问题是，它只能处理凸多边形的情况，而且不能很好的处理离群点。# 本文方法本文从数据分析（data clustering）的角度来处理这个问题，以临接两点之间构成的方向向量为特征，使用聚类来确每个点所属的直线，然后拟合直线，并求其交点来确定多边形的顶点。本文将该方法用于仿射变换的正则化，通过校正倾斜的图案，表明本方法确实可行。本方法的核心实质上是直线提取，但和霍夫变换相比，更具有针对性。本方法将重点放在了顶点所属直线的确定上，结合问题的特点，提出了高效可行的算法。
## 凸多边形
凸多边形的情况比较好处理，可以先求轮廓的凸包，因为凸包相邻点的单位方向向量，在单位圆上，总是相邻的，而且同一条边上点所属的方向向量，在单位圆上也是相邻的，因此可以在单位圆上进行kmeans聚类，从而得到各个点所从属的直线，在通过直线拟合即可求出多边形的各条边，进而求出顶点。
### 关于聚类算法选取

有两种选择，kmeans或者spectral clustering。

kmeans是一种经典的聚类算法，但是它对cluster的形状有要求，当cluster接近高斯分布的时候，它的表现最佳。本问题中，各直线所包含的点，都是相临接的，因此kmeans算法能取得很好的效果。

spectral clustering是一种较为新的聚类算法，该算法的特点是，不依赖cluster的形状，本质上是一种Nearest Neighbor聚类。由spectral clustering的特性可知，kmeans能处理的聚类任务，spectral clustering也能很好的处理。spectral clustering相比kmean的另外一种优势是（还需要实验）

#### spectral clustering是否可以用于凹多边形的顶点提取呢？？？

## 凹多边形
求凹多边行的顶点的困难之处在于，其边没有很好的性质，方向向量会发生变化，目前没有很好的求取其精确顶点的算法。

### RANSAC的描述
本文使用RANSAC算法的思想，求解该问题
1. 随机选取一个点，以该点为中心，选取一个ROS（Region of Support）
2. 在ROS的范围内，进行直线拟合
3. 删除直线范围内的点
4. 对于K边形，重复1-3，K次，得到K条直线，记录点的覆盖率
5. 重复1-4，N次，选出覆盖率最高的直线组。
6. 用直线求出该凹多边形的顶点
# 实验
## 车牌的矫正

先前的critical point提取算法会提取contour中不平滑的部分，由此得到的点并不一定是多边形的顶点，特别是当contour中噪声比较多的时候，critical point的数量会很多。而在某些情况下，需要精确定位多边形的顶点，例如对车牌进行deskew的时候，需要根据顶点的对应关系，来进行perspective projection的矫正。

## 五角星顶点的提取

提取五角星的顶点，作为展示。
